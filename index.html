<!doctype html>
<html>
<head>
<meta charset="UTF-8">
<title>Untitled Document</title>
<style>
	input, label
	{
		display: block;
	}
	form
	{
		padding: 20px;
	}
	h1 
	{
		padding: 20px 0px 0px 20px;
	}
</style>
</head>

<body>
	<h1>Amicable Numbers</h1>
	<script language="javascript">

		//function that finds if two numbers divides evenly
		//a = number
		//b = test number
		function isFactor(a,b)
		{
			factor = Number.isInteger(a/b);
			return factor;
		}
		//calls isFactor
		//answer = isFactor(5,2);
		//document.write(answer + "<br>");
		
		//function that takes an array as a parameter and displays all of its items
		function showFactors(array)
		{
			for (n=0; n<array.length; n++)
				document.write(array[n] + "<br>")
		}
		//calls showFactors
		//items = showFactors([2,3,2,1]);
		
		//function that takes an array as a parameter and returns the sum of all the elements
		function addFactors(array2)
		{
			var sum = 0;
			for (n=0; n<array2.length; n++)
				{
					sum += array2[n];
				}
			return sum;
		}
		//calls addFactors
		//stuff = addFactors([2,2,2,2]);
		//document.write("<br>" + stuff + "<br>");
		
		//function that takes a number as a parameter and returns an array with all possible factors
		function getFactors(a)
		{
			var array3 = new Array();
			array3[0] = 0;
			zeros = 0;
			for (n=2; n<=a; n++)
				{
					answer = isFactor(a,n);
					if (answer == true)
						array3[n] = a/n;
					else
						{
						array3[n] = 0;
						zeros = zeros + 1;
						}
					//document.write(answer + " " + a/n + " " + zeros + "<br>");
				}
			for (i=0; i<array3.length; i++)
				{
					if (array3[i] === 0)
						{
							array3.splice(i,1);
							i--;
						}
				}
			array3.shift();
			return array3;
		}
		//calls getFactors
		//factorsArray = getFactors(48);
		//document.write(factorsArray);
		
		function nums()
		{
			numOne = document.getElementById("num1").value;
			numTwo = document.getElementById("num2").value;
			
			document.write(numOne + ", " + numTwo + "<br>")
			
			//call getFactors to get an array of all factors
			arrayOne = getFactors(numOne);
			arrayTwo = getFactors(numTwo);
			
			//call showFactors to show all the array of factors 
			document.write("<br>")
			showFactors(arrayOne);
			document.write("<br>")
			showFactors(arrayTwo);
			
			//call addFactors to add the array of factors
			sumOne = addFactors(arrayOne);
			sumTwo = addFactors(arrayTwo);
			
			// test if the sum is equal to the opposite number
			if ((sumOne == numTwo) && (sumTwo == numOne))
				{
					document.write("<br>" + numOne + " and " + numTwo + " are amicable!");
				}
			else
				{
					document.write("<br>" + numOne + " and " + numTwo + " are not amicable.");
				}
		}
	</script>
	
	<div class="forms">
		<form>
			<label for="num1">Enter a number</label>
			<input type="number" name="num1" id="num1"><br>
			
			<label for="num2">Enter a second number</label>
			<input type="number" name="num2" id="num2"><br>
			
			<input type="button" name="submit_nums" id="btnID" value="Submit" onClick="nums()">
		</form>
	</div>
</body>
</html>
